<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="./assets/css/login.css" rel="stylesheet" />
    <link rel="script" href="../src/assets/js/login.js">
    <title>Sign in</title>
    <script>
        async function checklogin() {
            var userName = document.getElementById("username").value.toString();
            var passWord = document.getElementById("password").value.toString();
            window.parent =

                console.log(userName);
            console.log(passWord);
            var req = new XMLHttpRequest();
            req.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    document.getElementById("username").innerHTML =
                        this.status;
                    //console.log(this.status);
                }
            };
            req.open("POST", "https://localhost:5001/api/ApplicationUser/Login", true);
            req.setRequestHeader("Content-Type", "application/json; charset=UTF-8");

            var jsonBody = {
                "userName": userName,
                "password": passWord
            };
            req.send(JSON.stringify(jsonBody));
            req.onload = function () {
                if (req.status == 200) {
                    window.location.href = "../";
                } else window.alert('non');
            };

        }
    </script>
</head>

<body>
    <div class="main">
        <p class="sign" text-align="center">Sign in</p>
        <form class="form1">
            <input class="username" id="username" type="text" text-align="center" placeholder="Username">
            <input class="password" id="password" type="password" text-align="center" placeholder="Password">
            <a class="signin" text-align="center" onclick="checklogin()">
                Sign in
            </a>
            <a class="signup" text-align="center" href="../signup/SignUp.html">
                Sign Up
            </a>
            <div id="myModal" class="modal">
                <!-- Nội dung form đăng nhập -->
                <div class="modal-content">
                    <form action="#">
                        <span class="close">&times;</span>
                        <h2>Form đăng nhập</h2>
                        <div class="fomrgroup">
                            <b>UserName:</b>
                            <input type="text" name="username">
                        </div>
                        <div class="fomrgroup">
                            <b>PassWord:</b>
                            <input type="passWord" name="passWord">
                        </div>
                        <div class="fomrgroup">
                            <button>Đăng nhập</button>
                        </div>
                    </form>
                </div>
        </form>
    </div>
</body>

</html>